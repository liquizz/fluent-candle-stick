<div class="container">
  <h1>Candlestick Data Viewer</h1>

  <!-- File Upload Section -->
  <div class="upload-section">
    <input type="file" (change)="onFileSelected($event)" accept=".csv" [disabled]="isLoading">
    <button (click)="uploadFile()" [disabled]="!file || isLoading">
      {{ isLoading ? 'Uploading...' : 'Upload CSV' }}
    </button>
    <div class="error" *ngIf="error">{{ error }}</div>
  </div>

  <!-- Chart Section -->
  <div class="chart-section" *ngIf="hasData">
    <app-candlestick-chart [data]="candleStickData"></app-candlestick-chart>
  </div>

  <!-- Data Table Section -->
  <div class="table-section" *ngIf="hasData">
    <h2>Raw Data</h2>
    <table>
      <thead>
        <tr>
          <th>Time</th>
          <th>Open</th>
          <th>High</th>
          <th>Low</th>
          <th>Close</th>
          <th>Volume</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let candle of candleStickData" [class]="getRowClass(candle)">
          <td>{{ candle.time | date:'medium' }}</td>
          <td>{{ candle.open | number:'1.2-2' }}</td>
          <td>{{ candle.high | number:'1.2-2' }}</td>
          <td>{{ candle.low | number:'1.2-2' }}</td>
          <td>{{ candle.close | number:'1.2-2' }}</td>
          <td>{{ candle.volume | number:'1.2-2' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- No Data Message -->
  <div class="no-data" *ngIf="!hasData && !isLoading">
    No data available. Please upload a CSV file.
  </div>

  <!-- Loading Indicator -->
  <div class="loading" *ngIf="isLoading">
    Loading...
  </div>
</div>
